<ngx-ui-loader></ngx-ui-loader>
 <!-- <ng-container>Loading...</ng-container> -->
<div class="container">
    <div class="text-center">
        <button class="btn btn-lg btn-outline-primary mt-4" (click)="open(content)">Add Employee</button>
    </div>

<table mat-table [dataSource]="employee" class="mat-elevation-z8 mt-3">
    <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Employee_Id </th>
        <td mat-cell *matCellDef="let element; let i = index">{{i+1}} </td>
    </ng-container>

    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let element"> {{element.email}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element">
            <button mat-icon-button (click)="editRecourd(content_edit,element)">
                <mat-icon color="primary" >edit</mat-icon>
            </button> &nbsp;
<!--  -->
            <button mat-icon-button (click)="deleteRecourd(element.id)">
                <mat-icon color="warn" >delete</mat-icon>
            </button>
        </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
</div>


<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Employee Details Dialog</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <form [formGroup]="empForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text" class="form-control" placeholder="Employee_name:" formControlName="name" required />
            </div>

            <div class="mb-3">
                <label for="firstName" class="form-label">Employee mail</label>
                <input type="text" class="form-control" placeholder="Employee_mail:" formControlName="email" required />
            </div>
        </form>
    </div>
    <div class="modal-footer rounded-button">
        <button type="button" class="btn btn-outline-success" (click)='onSubmit();modal.close()'>Add</button>
    </div>
</ng-template>


<ng-template #content_edit let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Employee Details Dialog</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <form [formGroup]="empForm">
            <div class="mb-3">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text" class="form-control" placeholder="Employee_name:" formControlName="name" required />
            </div>

            <div class="mb-3">
                <label for="firstName" class="form-label">Employee mail</label>
                <input type="text" class="form-control" placeholder="Employee_mail:" formControlName="email" required />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-success" (click)='saveRecourd();modal.close() '>Edit
                    Record</button>
            </div>
        </form>
    </div>
</ng-template>